<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>QCode | Editor</title>
    <link rel="icon" type="image/svg+xml" href="https://github.com/GreasyRooster1/QCodeStatic/blob/main/Icon/icon.svg?raw=true">

    <script type="importmap">
        {
            "imports": {
                "codemirror/": "https://deno.land/x/codemirror_esm@v6.0.1/esm/"
            }
        }
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/split.js/1.6.2/split.min.js" integrity="sha512-to2k78YjoNUq8+hnJS8AwFg/nrLRFLdYYalb18SlcsFRXavCOTfBF3lNyplKkLJeB8YjKVTb1FPHGSy9sXfSdg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>

    <script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap');
    </style>

    <script src="../global/firebase/init.js" defer></script>
    <script src="../global/firebase/auth.js" defer></script>
    <script src="../global/firebase/database.js" defer></script>
    <script src="../global/firebase/lockPageToAuth.js" defer></script>
    <script src="../global/firebase/shareBoard.js" defer></script>

    <link rel="stylesheet" href="../global/global.css">

    <link rel="stylesheet" href="css/editor.css">
    <link rel="stylesheet" href="css/panes.css">
    <link rel="stylesheet" href="../global/nav/navbar.css">
    <link rel="stylesheet" href="css/panes/stepPane.css">
    <link rel="stylesheet" href="css/panes/codePane.css">
    <link rel="stylesheet" href="css/panes/outputPane.css">
    <link rel="stylesheet" href="css/lessonCreator.css">
    <link rel="stylesheet" href="css/share.css">

    <script src="../global/customElements.js" defer></script>
    <script src="../global/util/points.js" defer></script>
    <script src="../global/nav/navbar.js" defer></script>
    <script src="../global/util/code.js" defer></script>
    <script src="../global/util/projects.js" defer></script>

    <script src="js/lessonCreator/setup.js" defer></script>
    <script src="js/lessonCreator/chapter.js" defer></script>
    <script src="js/lessonCreator/edit.js" defer></script>
    <script src="js/lessonCreator/metadata.js" defer></script>
    <script src="js/lessonCreator/save.js" defer></script>
    <script src="js/lessonCreator/load.js" defer></script>
    <script src="js/lessonCreator/localStorage.js" defer></script>

    <script src="js/utils/loadUtils.js" defer></script>
    <script src="js/panes.js" defer></script>
    <script src="js/codeExecution.js" defer type="module"></script>
    <script src="js/codeEditor.js" async type="module" defer></script>
    <script src="js/load.js" defer></script>
    <script src="js/save.js" defer></script>
    <script src="js/share.js" defer></script>
    <script src="js/steps.js" defer></script>
</head>
<body>
    <brand-nav></brand-nav>

    <div class="pane-container">

        <div class="steps-pane editor-pane">
            <div class="scrollable-steps">
                <!-- Steps go here -->
            </div>
        </div>

        <div class="code-pane editor-pane">
            <div class="code-editor"></div>
        </div>

        <div class="output-pane editor-pane">
            <div class="output-head">
                <div>
                    <button class="run-button">Run </button>
                    <button class="stop-button">Stop </button>
                    <button class="save-button">Save </button>
                    <button class="share-button">Share </button>
                </div>
            </div>
            <div class="output-panes-wrapper">
                <div class="canvas-output-pane">
                    <div class="save-alert">
                        <div class="save-alert-header">
                            Saved!
                        </div>
                    </div>
                    <iframe class="canvas-output-iframe" src="exec/exec.html" id="exec-frame"></iframe>
                </div>
                <div class="console-output-pane"></div>
            </div>
        </div>
    </div>
    <div class="lesson-creator-button-container">
    </div>

    <div class="share-popup-container">
        <div class="share-popup-content">
            <div class="top-bar">
                <span class="close-button">
                    X
                </span>
            </div>
            <div class="title">Share Project</div>
            <div class="share-preview">
                <iframe class="canvas-output-iframe" src="exec/exec.html" id="share-preview-frame"></iframe>
            </div>
            <input class="name-input" placeholder="Type project name" type="text">
            <textarea class="desc-input" placeholder="Type project description" cols="40" rows="3"></textarea>
            <div class="share-popup-button">Share</div>
<!--            <div class="disclaimer">By sharing this project you agree that this project and its code will be publicly accessible, and can be removed from the share board at any time</div>-->
        </div>
    </div>
</body>
</html>